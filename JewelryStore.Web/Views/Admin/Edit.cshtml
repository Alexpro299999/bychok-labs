@model JewelryStore.Domain.Models.Product

<div class="container">
    <h2>@(Model.Id == 0 ? "Добавление товара" : "Редактирование товара")</h2>

    <<form asp-action="Edit" method="post" enctype="multipart/form-data">
        <input type="hidden" asp-for="Id" />

        <input type="hidden" asp-for="ImageUrl" />

        <div class="row">
            <div class="col-md-8">
                <div class="form-group">
                    <label>Название</label>
                    <input asp-for="Name" class="form-control" />
                    <span asp-validation-for="Name" class="text-danger"></span>
                </div>

                <div class="form-group">
                    <label>Категория</label>
                    <select asp-for="CategoryId" asp-items="ViewBag.Categories" class="form-control">
                        <option value="">-- Выберите категорию --</option>
                    </select>
                    <span asp-validation-for="CategoryId" class="text-danger"></span>
                </div>

                <div class="form-group">
                    <label>Материал</label>
                    <input asp-for="Material" class="form-control" />
                </div>

                <div class="form-group">
                    <label>Описание</label>
                    <textarea asp-for="Description" class="form-control" rows="3"></textarea>
                </div>

                <div class="form-group">
                    <label>Цена</label>
                    <input asp-for="Price" class="form-control" type="number" step="0.01" />
                </div>
            </div>

            <div class="col-md-4">
                <div class="form-group">
                    <label>Текущее изображение:</label>
                    <div class="mb-2 p-2 border text-center">
                        @if (!string.IsNullOrEmpty(Model.ImageUrl))
                        {
                            <img src="@Model.ImageUrl" style="max-width: 100%; max-height: 200px;" />
                        }
                        else
                        {
                            <span class="text-muted">Нет изображения</span>
                        }
                    </div>

                    <label>Загрузить новое (если нужно):</label>
                    <input type="file" name="image" class="form-control-file" />
                </div>
            </div>
        </div>

        <button type="submit" class="btn btn-success mt-3">Сохранить изменения</button>
        <a asp-action="Index" class="btn btn-secondary mt-3">Отмена</a>
    </form>
</div>